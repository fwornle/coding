@startuml
!include _standard-style.puml

title Status Line System & Visual Feedback

package "Data Sources" {
  [Constraint Monitor] as constraint
  [Semantic Analysis] as semantic  
  [Live Session Files] as sessions
  [Service Status] as services
}

package "Status Line Engine" {
  [Combined Status Line] as combined
  [Time Calculation] as timing
  [Color Logic] as colors
  [Cache Manager] as cache
}

package "Visual Output" {
  [Status Display] as display
  [Color Indicators] as indicators
  [Warning System] as warnings
}

' Data flow
constraint --> combined : Compliance score
semantic --> combined : Operational status
sessions --> combined : Current session file
services --> combined : Service health
combined --> timing : Session time range
timing --> colors : Minutes remaining
colors --> indicators : Visual coding
cache --> combined : Performance optimization

' Output generation  
indicators --> display : Final status line
warnings --> display : Alert notifications
combined --> display : Text formatting

note right of display : **Status Line Format**\nğŸ›¡ï¸ 8.5 ğŸ”EX ğŸ§  âœ… ğŸ“‹1330-1430-session\n\n**Components:**\nâ€¢ ğŸ›¡ï¸ 8.5: Constraint compliance\nâ€¢ ğŸ”EX: Experimentation mode\nâ€¢ ğŸ§  âœ…: Semantic analysis status\nâ€¢ ğŸ“‹: Session indicator

note right of timing : **Time Calculation**\nâ€¢ Parse session: "1330-1430"\nâ€¢ Extract end time: 14:30\nâ€¢ Calculate remaining minutes\nâ€¢ Apply color thresholds

note right of colors : **Color Logic**\n**Normal (>5 min):** ğŸ“‹1330-1430-session\n**Warning (â‰¤5 min):** ğŸ“‹ğŸŸ 1330-1430-session(3min)\n**Ended (â‰¤0 min):** ğŸ“‹ğŸ”´1330-1430-session(ended)

@enduml