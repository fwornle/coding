@startuml trajectory-system-architecture
!include _standard-style.puml

title Integrated Trajectory Generation System v3.0

top to bottom direction

package "Repository Analysis" {
  [Repository Scanner] as Scanner
  [File System Analysis] as FileAnalysis
  [Code Pattern Detection] as PatternDetection
  [Dependency Analysis] as DepAnalysis
}

package "Semantic Analysis Engine" {
  [MCP Semantic Analysis] as MCPAnalysis
  [Pattern Recognition] as PatternRecog
  [Architecture Insight Generation] as ArchInsights
  [Capability Extraction] as CapExtraction
}

package "LSL Integration" {
  [LSL Session Data] as LSLData
  [Activity Pattern Detection] as ActivityPattern
  [Session Analysis] as SessionAnalysis
  [Development Trend Analysis] as TrendAnalysis
}

package "Data Sources" {
  [Change Log Integration] as ChangeLog
  [Configuration Discovery] as ConfigDiscovery
  [Documentation Assessment] as DocAssessment
  [Test Coverage Analysis] as TestCoverage
}

package "Report Generation" {
  [Trajectory Report Generator] as ReportGen
  [Capability Documentation] as CapDoc
  [Architecture Documentation] as ArchDoc
  [Evolution Timeline] as Evolution
}

package "Output Formats" {
  [Comprehensive Trajectory Report] as CompReport
  [Executive Summary] as ExecSummary
  [Technical Documentation] as TechDoc
  [Integration Guides] as IntegrationGuides
}

Scanner --> FileAnalysis
FileAnalysis --> PatternDetection
PatternDetection --> DepAnalysis

DepAnalysis --> MCPAnalysis
MCPAnalysis --> PatternRecog
PatternRecog --> ArchInsights
ArchInsights --> CapExtraction

LSLData --> SessionAnalysis
SessionAnalysis --> ActivityPattern
ActivityPattern --> TrendAnalysis

ChangeLog --> ReportGen
ConfigDiscovery --> ReportGen  
DocAssessment --> ReportGen
TestCoverage --> ReportGen

CapExtraction --> ReportGen
TrendAnalysis --> ReportGen

ReportGen --> CapDoc
ReportGen --> ArchDoc
ReportGen --> Evolution

CapDoc --> CompReport
ArchDoc --> CompReport
Evolution --> CompReport

CompReport --> ExecSummary
CompReport --> TechDoc
CompReport --> IntegrationGuides

note right of MCPAnalysis
  **Deep Analysis Features:**
  • Repository structure analysis
  • Code pattern recognition
  • Architecture insight generation
  • Technology stack assessment
  • Security pattern identification
end note

note right of LSLData
  **LSL v3.0 Integration:**
  • Real-time session data
  • Activity pattern extraction
  • Development focus analysis
  • Cross-project activity tracking
  • Conversation-based insights
end note

note bottom
  **Analysis Tiers:**
  
  **Light Analysis**: 50 files max, basic patterns and capabilities
  **Deep Analysis**: 200 files max, comprehensive architectural analysis
  
  **Report Generation**: Structured markdown with capability focus
  **Real-time Updates**: Integration with LSL system for continuous updates
end note

@enduml