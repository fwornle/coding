@startuml
!include _standard-style.puml

title Health Monitoring System

left to right direction

package "Supervision" {
  component [GlobalProcessSupervisor] as GPS <<supervisor>>
}

package "Verification" {
  component [HealthVerifier] as HV <<verifier>>
}

package "Status" {
  component [StatusLineMonitor] as SHM <<monitor>>
  component [StatusLine] as CSL <<display>>
}

package "Per-Project" {
  component [TranscriptMonitor] as ETM <<per_project>>
}

database [PSM\nRegistry] as PSM <<storage>>

database [Health\nFiles] as HF <<storage>>

' Main supervision flow
GPS --> ETM : supervises
GPS --> SHM : supervises
GPS --> HV : supervises
GPS --> HF : checks

' Verification
HV --> HF : verifies

' Status display
SHM --> HF : aggregates
CSL --> SHM : displays

' Per-project
ETM --> HF : writes
ETM --> PSM : registers

' Core
GPS --> PSM : uses

@enduml
