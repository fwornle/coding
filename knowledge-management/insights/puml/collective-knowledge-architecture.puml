@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

package "CollectiveKnowledge" as collectiveKnowledge {
  note as AutoNote1
  System for managing collective knowledge
  end note
  package "Knowledge Management" as knowledgeManagement {
    component GraphDatabaseService <<core>> as graphDatabaseService
    component GraphKnowledgeExporter <<core>> as graphKnowledgeExporter
    component GraphDatabaseAdapter <<core>> as graphDatabaseAdapter
    component PersistenceAgent <<agent>> as persistenceAgent
    component VkbApiClient <<api>> as vkbApiClient
    graphDatabaseService --> graphKnowledgeExporter : exports knowledge
    graphDatabaseService --> graphDatabaseAdapter : adapts database
    graphDatabaseAdapter --> persistenceAgent : persists data
    persistenceAgent --> vkbApiClient : uses API
  }
  package "Storage" as storage {
    component Graphology <<storage>> as graphology
    component LevelDB <<storage>> as levelDB
    component "JSON Export" <<storage>> as jsonExport
    graphology --> levelDB : combines with
    levelDB --> jsonExport : synchronizes to
  }
  package "Tools" as tools {
    component vkb <<tool>> as vkbTool
    component "MCP Tools" <<tool>> as mcpTools
    component graph-sync <<tool>> as graphSync
    vkbTool --> graphDatabaseService : visualizes
    mcpTools --> graphDatabaseService : manages knowledge
    graphSync --> levelDB : synchronizes data
  }
  knowledgeManagement --> storage : uses storage
  tools --> knowledgeManagement : interacts with knowledge management
}
@enduml