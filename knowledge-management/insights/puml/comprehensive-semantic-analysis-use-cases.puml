@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

left to right direction

actor "User" as user
actor "MCP Client" as client
actor "Knowledge System" as ks

rectangle "Semantic Analysis System" {
  usecase "Analyze Text Semantics" as analyze
  usecase "Extract Entities" as extract
  usecase "Build Knowledge Graph" as build
  usecase "Query Semantic Data" as query
  usecase "Store Knowledge" as store
  usecase "Retrieve Context" as retrieve
}

rectangle "Knowledge Management" {
  usecase "Manage Graph Structure" as manage
  usecase "Process Semantic Relations" as relations
  usecase "Update Knowledge Base" as update
}

rectangle "MCP Server Operations" {
  usecase "Handle MCP Requests" as handle
  usecase "Provide Semantic Tools" as tools
  usecase "Return Analysis Results" as results
}

rectangle "Data Persistence" {
  usecase "Store in LevelDB" as leveldb
  usecase "Maintain Graph Topology" as topology
  usecase "Cache Semantic Data" as cache
}

user --> analyze
client --> handle
ks --> manage

analyze ..> extract : <<include>>
analyze ..> build : <<include>>
build --> store
store --> leveldb
store --> topology

query --> retrieve
retrieve --> cache

handle --> tools
tools --> analyze
results --> query

manage --> relations
relations --> update
update --> store

extract --> build
query --> results

note right of leveldb
  Located at .data/knowledge-graph
  Uses Graphology + LevelDB
end note

note top of handle
  Implemented in integrations/
  mcp-server-semantic-analysis/src
end note

note left of manage
  Located in src/
  knowledge-management
end note

@enduml