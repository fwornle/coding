@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

left to right direction

actor "Developer" as dev
actor "Knowledge Worker" as kw
actor "System Administrator" as admin
actor "External MCP Client" as client

package "Knowledge Management Layer" {
  usecase "Manage Knowledge Base" as UC1
  usecase "Query Semantic Data" as UC2
  usecase "Update Knowledge Graph" as UC3
}

package "UKB Unified Processing" {
  usecase "Process Natural Language" as UC4
  usecase "Extract Semantic Features" as UC5
  usecase "Generate Embeddings" as UC6
  usecase "Perform Similarity Analysis" as UC7
}

package "MCP Server Integration" {
  usecase "Handle MCP Requests" as UC8
  usecase "Provide Semantic Analysis API" as UC9
  usecase "Manage Client Sessions" as UC10
  usecase "Export Analysis Results" as UC11
}

package "Core Analysis Engine" {
  usecase "Execute Semantic Analysis" as UC12
  usecase "Generate Insights" as UC13
  usecase "Validate Results" as UC14
}

' Actor relationships
kw --> UC1
kw --> UC2
kw --> UC13

dev --> UC3
dev --> UC12
dev --> UC14

admin --> UC10
admin --> UC8

client --> UC9
client --> UC11

' Use case relationships
UC2 ..> UC4 : <<include>>
UC3 ..> UC5 : <<include>>
UC12 ..> UC6 : <<include>>
UC12 ..> UC7 : <<include>>
UC9 ..> UC12 : <<include>>
UC13 ..> UC7 : <<extend>>
UC11 ..> UC14 : <<include>>

note right of UC8 : "Replaces shared-memory.json\nwith direct MCP protocol"

note bottom of UC12 : "ComprehensiveSemanticAnalysis\ncore functionality"

@enduml