@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

actor User as "System User"
actor MCP_Server as "MCP Server"

usecase "Visualize Knowledge Graph" as (Visualize)
usecase "Synchronize Knowledge Graph" as (Synchronize)
usecase "Perform Knowledge Operations" as (KnowledgeOperations)

User -- (Visualize)
User -- (Synchronize)
MCP_Server -- (KnowledgeOperations)

package "Graph Database" {
  component GraphDatabaseService as "Graph Database Service"
  component GraphDatabaseAdapter as "Graph Database Adapter"
  component GraphKnowledgeExporter as "Graph Knowledge Exporter"
  component LevelDB as "LevelDB"
  component Graphology as "Graphology"
  
  GraphDatabaseService ..> Graphology
  GraphDatabaseService ..> LevelDB
  GraphDatabaseAdapter ..> GraphDatabaseService
  GraphKnowledgeExporter ..> GraphDatabaseService
}

(Synchronize) ..> GraphDatabaseService : uses
(Visualize) ..> GraphDatabaseService : uses
(KnowledgeOperations) ..> GraphDatabaseService : uses

package "CLI Commands" {
  component vkb as "vkb command"
  component graph_sync as "graph-sync command"
  vkb -- (Visualize)
  graph_sync -- (Synchronize)
}

@enduml