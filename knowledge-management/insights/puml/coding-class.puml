@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

package "Commands" {
    class VkbCommand <<service>> {
        +execute()
        +visualizeKnowledgeBase()
    }
    
    class CodingCommand <<service>> {
        +execute()
        +developmentOperations()
    }
    
    class GraphSyncCommand <<service>> {
        +execute()
        +synchronizeDatabase()
    }
}

package "Core Knowledge Management" {
    class GraphDatabaseService <<service>> {
        -graphAdapter: GraphDatabaseAdapter
        +queryGraph()
        +updateNodes()
        +performDataOperations()
    }
    
    class GraphKnowledgeExporter <<service>> {
        -persistenceAgent: PersistenceAgent
        +exportToJson()
        +syncData()
        +generateExport()
    }
    
    class GraphDatabaseAdapter <<interface>> {
        +connect()
        +query()
        +update()
        +abstractDataOperations()
    }
    
    class PersistenceAgent <<service>> {
        -levelDbPath: String
        -exportPath: String
        +manageStorage()
        +persistData()
        +loadData()
    }
    
    class VkbApiClient <<service>> {
        -baseUrl: String
        +performApiInteractions()
        +fetchKnowledgeData()
        +submitUpdates()
    }
}

package "Storage Layer" {
    class GraphologyStorage <<file>> {
        -graphData: Object
        +storeGraph()
        +retrieveGraph()
    }
    
    class LevelDBStorage <<file>> {
        -dbPath: String
        +persistentStorage()
        +queryData()
    }
    
    class JsonExportStorage <<file>> {
        -exportPath: String
        +syncedJsonData()
        +automatedExport()
    }
}

package "Semantic Analysis Integration" {
    class ParallelWorker <<service>> {
        -batchSize: Integer
        +processBatchAnalysis()
        +executeParallel()
    }
    
    class SemanticAnalysisService <<service>> {
        -workers: ParallelWorker[]
        +performSemanticAnalysis()
        +integrateResults()
    }
}

package "Libraries" {
    class UkbUnifiedLibrary <<interface>> {
        +provideUnifiedInterface()
        +commonUtilities()
    }
}

' Relationships
GraphDatabaseService --> GraphDatabaseAdapter : uses
GraphDatabaseService --> PersistenceAgent : manages
GraphKnowledgeExporter --> PersistenceAgent : uses
GraphKnowledgeExporter --> JsonExportStorage : exports to

GraphDatabaseAdapter --> GraphologyStorage : implements with
GraphDatabaseAdapter --> LevelDBStorage : persists to

PersistenceAgent --> GraphologyStorage : manages
PersistenceAgent --> LevelDBStorage : manages

VkbCommand --> GraphDatabaseService : visualizes
CodingCommand --> GraphDatabaseService : operates on
GraphSyncCommand --> GraphKnowledgeExporter : triggers

SemanticAnalysisService --> ParallelWorker : coordinates
SemanticAnalysisService --> GraphDatabaseService : integrates with

GraphDatabaseService --> UkbUnifiedLibrary : utilizes
VkbApiClient --> UkbUnifiedLibrary : utilizes

JsonExportStorage ..> GraphologyStorage : synced from
ParallelWorker ..> GraphDatabaseService : batch updates

@enduml