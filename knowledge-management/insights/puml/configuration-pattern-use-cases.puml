@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

actor "Developer" as dev
actor "MCP Client" as client
actor "System Administrator" as admin

rectangle "Configuration Management" {
  usecase "Configure Environment Variables" as config_env
  usecase "Manage Project Config Files" as config_files
  usecase "Validate Configuration" as validate_config
}

rectangle "Knowledge Management" {
  usecase "Store Knowledge Patterns" as store_patterns
  usecase "Query Knowledge Graph" as query_graph
  usecase "Export Knowledge Data" as export_data
  usecase "Sync GraphDB to JSON" as sync_data
}

rectangle "MCP Server Operations" {
  usecase "Process Semantic Analysis" as semantic_analysis
  usecase "Handle MCP Requests" as handle_requests
  usecase "Manage Agent Lifecycle" as manage_lifecycle
}

rectangle "Data Persistence" {
  usecase "Access Graphology Storage" as access_graphology
  usecase "Read/Write LevelDB" as leveldb_ops
  usecase "Generate JSON Exports" as json_exports
}

rectangle "Pattern Analysis" {
  usecase "Extract Codebase Patterns" as extract_patterns
  usecase "Create Reusable Entities" as create_entities
  usecase "Analyze Configuration Patterns" as analyze_patterns
}

dev --> config_env
dev --> config_files
admin --> validate_config

client --> handle_requests
client --> semantic_analysis

dev --> store_patterns
dev --> query_graph
dev --> extract_patterns

store_patterns ..> access_graphology : <<include>>
query_graph ..> leveldb_ops : <<include>>
export_data ..> json_exports : <<include>>
export_data ..> sync_data : <<include>>

handle_requests ..> manage_lifecycle : <<include>>
semantic_analysis ..> analyze_patterns : <<include>>
analyze_patterns ..> create_entities : <<extend>>

extract_patterns --> store_patterns
validate_config --> config_env : <<extend>>
validate_config --> config_files : <<extend>>

note right of sync_data : Auto-synced from GraphDB\nto .data/knowledge-export
note right of access_graphology : Storage at .data/knowledge-graph
note bottom of semantic_analysis : Implemented in\nmcp-server-semantic-analysis

@enduml