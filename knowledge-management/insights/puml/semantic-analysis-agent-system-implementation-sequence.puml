@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

participant SemanticAnalysisAgentSystemImplementation as "Semantic Analysis Agent"
participant GraphDatabase as "Graph Database (.data/knowledge-graph)"
participant GraphDatabaseService as "Graph Database Service"
participant GraphKnowledgeExporter as "Graph Knowledge Exporter"
participant GraphDatabaseAdapter as "Graph Database Adapter"
participant CLI as "CLI (vkb command)"
participant MCP as "MCP Tools"
participant JSONExporter as "JSON Exporter (.data/knowledge-export)"

SemanticAnalysisAgent->>GraphDatabase: Initialize graph database
GraphDatabase->>GraphDatabaseService: Register with Graph Database Service
GraphDatabaseService->>GraphDatabaseAdapter: Manage data storage and retrieval
GraphDatabaseAdapter->>GraphDatabase: Store and retrieve data

CLI->>SemanticAnalysisAgent: Access via vkb command
MCP->>SemanticAnalysisAgent: Access for knowledge operations
SemanticAnalysisAgent->>GraphKnowledgeExporter: Export knowledge graph
GraphKnowledgeExporter->>JSONExporter: Export to JSON (.data/knowledge-export)

alt Auto-sync JSON exports
    JSONExporter->>GraphKnowledgeExporter: Sync knowledge graph export
    GraphKnowledgeExporter->>GraphDatabase: Update graph database
end

SemanticAnalysisAgent->>GraphDatabase: Auto-sync with graph database

@enduml