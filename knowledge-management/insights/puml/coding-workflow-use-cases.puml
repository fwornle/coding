@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

left to right direction

actor "Developer" as DEV
actor "MCP Client" as MCP
actor "System Scheduler" as SYS

rectangle "Knowledge Management System" {
  usecase "Execute Workflow" as UC1
  usecase "Incremental Analysis" as UC2
  usecase "Store Knowledge Graph" as UC3
  usecase "Export JSON Data" as UC4
  usecase "Semantic Analysis" as UC5
}

rectangle "Data Storage" {
  usecase "Manage Graphology DB" as UC6
  usecase "Persist to LevelDB" as UC7
  usecase "Auto-sync Exports" as UC8
}

rectangle "CodingWorkflow Components" {
  usecase "Process Code Files" as UC9
  usecase "Generate Insights" as UC10
  usecase "Update Knowledge Base" as UC11
}

DEV --> UC1 : triggers via MCP tools
MCP --> UC1 : execute_workflow command
SYS --> UC2 : automatic trigger

UC1 --> UC5 : <<include>>
UC2 --> UC5 : <<include>>
UC5 --> UC9 : <<include>>
UC5 --> UC10 : <<include>>

UC9 --> UC3 : <<include>>
UC10 --> UC11 : <<include>>
UC11 --> UC3 : <<include>>

UC3 --> UC6 : <<include>>
UC6 --> UC7 : <<include>>
UC3 --> UC4 : <<extend>>
UC4 --> UC8 : <<include>>

note right of UC3 : "Stored at .data/knowledge-graph\nUsing Graphology + LevelDB"
note right of UC4 : "Exported to .data/knowledge-export\nAuto-synced from GraphDB"
note top of UC1 : "shared-memory.json REMOVED\nfrom codebase"

@enduml