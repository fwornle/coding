@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

left to right direction

actor "VSCode Developer" as dev
actor "Extension User" as user
actor "MCP Server" as mcp
actor "Graph Database" as gdb

package "Knowledge Management" {
  usecase "Store Knowledge Entity" as store
  usecase "Query Graph Database" as query
  usecase "Export Knowledge" as export
  usecase "Sync Data" as sync
}

package "Bridge Pattern Implementation" {
  usecase "Initialize GraphDatabaseService" as init
  usecase "Adapt Database Interface" as adapt
  usecase "Manage Persistence" as persist
  usecase "Handle Cross-Module Communication" as comm
}

package "Semantic Analysis" {
  usecase "Analyze Code Patterns" as analyze
  usecase "Extract Architecture Components" as extract
  usecase "Generate Semantic Models" as generate
}

package "Data Storage" {
  usecase "Use Graphology + LevelDB" as graphology
  usecase "Maintain .data/knowledge-graph" as kgraph
  usecase "Auto-sync JSON Exports" as jsonsync
}

dev --> store
dev --> query
dev --> analyze
user --> query
user --> export
mcp --> comm
mcp --> analyze
gdb --> persist
gdb --> sync

store ..> init : <<include>>
query ..> adapt : <<include>>
export ..> jsonsync : <<include>>
persist ..> graphology : <<include>>
sync ..> kgraph : <<include>>
analyze ..> extract : <<include>>
extract ..> generate : <<include>>
comm ..> adapt : <<extend>>

note right of store : Pattern extracted from\nsrc/knowledge-management,\nlib/ukb-unified,\nintegrations/mcp-server-semantic-analysis
note bottom of graphology : Replaces shared-memory.json\nwith persistent graph storage
note top of jsonsync : Auto-synced from GraphDB\nto .data/knowledge-export

@enduml