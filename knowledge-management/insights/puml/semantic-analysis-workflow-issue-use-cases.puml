@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

actor "Developer" as dev
actor "MCP Client" as client
actor "System Administrator" as admin

package "Semantic Analysis System" {
  usecase "Analyze Code Semantics" as analyze
  usecase "Generate Insights" as insights
  usecase "Validate Content" as validate
  usecase "Export Knowledge" as export
  usecase "Store Graph Data" as store
  usecase "Query Knowledge Graph" as query
  usecase "Track Git History" as git_history
  usecase "Monitor Vibe Changes" as vibe_history
  usecase "Generate Observations" as observations
  usecase "Quality Assurance" as qa
}

package "Agent Workflows" {
  usecase "Git History Analysis" as git_agent
  usecase "Vibe History Analysis" as vibe_agent  
  usecase "Observation Generation" as obs_agent
  usecase "Insight Generation" as insight_agent
  usecase "Content Validation" as content_agent
  usecase "Quality Assurance Check" as qa_agent
}

package "Storage Management" {
  usecase "Manage GraphDB" as graphdb
  usecase "Sync to JSON Export" as json_sync
  usecase "LevelDB Operations" as leveldb
}

' Actor relationships
dev --> analyze
dev --> insights
dev --> query
client --> analyze
client --> export
admin --> store
admin --> graphdb

' Use case relationships
analyze ..> git_history : <<include>>
analyze ..> vibe_history : <<include>>
analyze ..> observations : <<include>>

insights ..> insight_agent : <<include>>
validate ..> content_agent : <<include>>
qa ..> qa_agent : <<include>>

store ..> graphdb : <<include>>
store ..> leveldb : <<include>>
export ..> json_sync : <<include>>

git_history --> git_agent
vibe_history --> vibe_agent
observations --> obs_agent
insights --> insight_agent
validate --> content_agent
qa --> qa_agent

graphdb --> leveldb
json_sync --> graphdb : "auto-sync"

note right of export
  JSON exports at 
  .data/knowledge-export
  (auto-synced from GraphDB)
end note

note right of store
  Uses Graphology + LevelDB
  at .data/knowledge-graph
end note

note bottom of "Agent Workflows"
  Multi-agent architecture with
  specialized workflow agents
end note

@enduml