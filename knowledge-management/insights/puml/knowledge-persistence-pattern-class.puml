@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

package "Knowledge Persistence Pattern" {
  class GraphDatabaseService <<service>> {
    + interactWithGraphDatabase()
  }

  class GraphKnowledgeExporter <<service>> {
    + autoExportJSONData()
  }

  class PersistenceAgent <<service>> {
    + persistKnowledgeData()
  }

  class KnowledgePersistencePattern <<interface>> {
    {method}
    + storeKnowledge()
    + retrieveKnowledge()
  }

  GraphDatabaseService --* GraphKnowledgeExporter : uses
  GraphKnowledgeExporter --* PersistenceAgent : triggers
  PersistenceAgent --* GraphDatabaseService : uses
  KnowledgePersistencePattern --|> GraphDatabaseService : implements
  KnowledgePersistencePattern --|> GraphKnowledgeExporter : implements
  KnowledgePersistencePattern --|> PersistenceAgent : implements
}

package "Utilities" {
  class EnvironmentVariables <<interface>> {
    {method}
    + getPort()
    + getStoragePath()
  }

  GraphDatabaseService ..> EnvironmentVariables : uses
  GraphKnowledgeExporter ..> EnvironmentVariables : uses
  PersistenceAgent ..> EnvironmentVariables : uses
}

@enduml