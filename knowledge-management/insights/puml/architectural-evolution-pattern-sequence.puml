@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

participant "Knowledge Management" as KM
participant "UKB Unified Library" as UKB
participant "MCP Semantic Analysis" as MCP
participant "Graphology Engine" as GraphDB
participant "LevelDB Storage" as LevelDB
participant "JSON Export System" as JSON

note over KM, JSON : ArchitecturalEvolutionPattern Implementation

KM -> UKB : Initialize pattern recognition
activate UKB

UKB -> MCP : Request semantic analysis
activate MCP

MCP -> MCP : Analyze codebase patterns
note right : Pattern extraction from\nsrc/knowledge-management,\nlib/ukb-unified,\nintegrations/mcp-server-semantic-analysis

MCP -> GraphDB : Store pattern entities
activate GraphDB

GraphDB -> LevelDB : Persist to .data/knowledge-graph
activate LevelDB

LevelDB --> GraphDB : Storage confirmation
deactivate LevelDB

GraphDB -> JSON : Auto-sync export
activate JSON

JSON -> JSON : Generate exports at\n.data/knowledge-export
note right : JSON exports auto-synced\nfrom GraphDB

JSON --> GraphDB : Export complete
deactivate JSON

GraphDB --> MCP : Pattern stored
deactivate GraphDB

MCP --> UKB : Analysis complete
deactivate MCP

UKB --> KM : Pattern available as\nTransferablePattern
deactivate UKB

note over KM, JSON : shared-memory.json REMOVED\nKnowledge now persisted in GraphDB+LevelDB

@enduml