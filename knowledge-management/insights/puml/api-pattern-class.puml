@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

package "Knowledge Management" {
  class ApiPattern <<service>> {
    - graphDatabaseService: GraphDatabaseService
    - vkbApiClient: VkbApiClient
    + synchronizeGraphDB()
    + visualizeKnowledge()
  }

  class GraphDatabaseService <<service>> {
    - graphDB: GraphDB
    + storeKnowledge()
    + retrieveKnowledge()
  }

  class VkbApiClient <<service>> {
    - vkbApi: VkbApi
    + visualize()
  }

  ApiPattern --* GraphDatabaseService
  ApiPattern --* VkbApiClient
}

package "Persistence" {
  class PersistenceAgent <<service>> {
    - graphDatabaseAdapter: GraphDatabaseAdapter
    + persistKnowledge()
  }

  class GraphDatabaseAdapter <<service>> {
    - graphDB: GraphDB
    + adaptGraphDB()
  }

  PersistenceAgent --* GraphDatabaseAdapter
  GraphDatabaseAdapter --* GraphDatabaseService
}

package "MCP Tools" {
  class MCPAgent <<service>> {
    - mcpTools: McpTools
    + performKnowledgeOperations()
  }

  class McpTools <<service>> {
    - mcpApi: McpApi
    + execute()
  }

  MCPAgent --* McpTools
  MCPAgent --* ApiPattern
}

ApiPattern ..> MCPAgent : uses
GraphDatabaseService ..> GraphDatabaseAdapter : uses

@enduml