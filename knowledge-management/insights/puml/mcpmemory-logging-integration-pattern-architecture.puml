@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

!define RECTANGLE class

package "Knowledge Management" {
    component GraphDatabaseService <<core>>
    component GraphKnowledgeExporter <<core>>
    component GraphDatabaseAdapter <<core>>
}

package "Storage Layer" {
    component Graphology <<storage>>
    component LevelDB <<storage>>
    folder ".data/knowledge-graph" as KnowledgeGraphData <<storage>>
    folder ".data/knowledge-export" as ExportData <<storage>>
}

package "MCP Integration" {
    component "MCP Server" <<api>>
    component "Semantic Analysis" <<core>>
}

package "Implementation Locations" {
    component "src/knowledge-management" as SrcKM <<source>>
    component "lib/ukb-unified" as LibUKB <<source>>
    component "integrations/mcp-server-semantic-analysis/src" as IntMCP <<source>>
}

note top of GraphDatabaseService : MCPMemoryLoggingIntegrationPattern\nReplaces shared-memory.json with\nGraph-based knowledge storage

GraphDatabaseService --> GraphDatabaseAdapter
GraphDatabaseAdapter --> Graphology
Graphology --> LevelDB
LevelDB --> KnowledgeGraphData

GraphKnowledgeExporter --> ExportData
GraphDatabaseService --> GraphKnowledgeExporter
ExportData ..> KnowledgeGraphData : auto-synced

"MCP Server" --> "Semantic Analysis"
"Semantic Analysis" --> GraphDatabaseService

SrcKM ..> GraphDatabaseService : implements
LibUKB ..> GraphDatabaseAdapter : implements
IntMCP ..> "MCP Server" : implements

note bottom : Pattern provides unified knowledge storage\nacross MCP tools and agents using GraphDB

@enduml