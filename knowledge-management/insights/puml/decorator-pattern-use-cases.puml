@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

left to right direction

actor "Knowledge Engineer" as KE
actor "Semantic Analyzer" as SA
actor "MCP Client" as MCP
actor "Application Developer" as DEV

package "Knowledge Management System" {
  usecase "Store Pattern Knowledge" as UC1
  usecase "Query Decorator Patterns" as UC2
  usecase "Extract Pattern Features" as UC3
  usecase "Validate Pattern Structure" as UC4
}

package "Graph Database Operations" {
  usecase "Persist to GraphDB" as UC5
  usecase "Sync to JSON Export" as UC6
  usecase "Query Knowledge Graph" as UC7
  usecase "Maintain Graph Integrity" as UC8
}

package "Semantic Analysis" {
  usecase "Analyze Code Patterns" as UC9
  usecase "Generate Pattern Metadata" as UC10
  usecase "Classify Design Patterns" as UC11
}

package "MCP Server Integration" {
  usecase "Serve Pattern Data" as UC12
  usecase "Handle MCP Requests" as UC13
  usecase "Export Pattern Knowledge" as UC14
}

KE --> UC1
KE --> UC2
KE --> UC4

SA --> UC9
SA --> UC10
SA --> UC11

MCP --> UC12
MCP --> UC13
MCP --> UC14

DEV --> UC2
DEV --> UC7

UC1 ..> UC5 : <<include>>
UC1 ..> UC10 : <<include>>
UC2 ..> UC7 : <<include>>
UC3 ..> UC11 : <<include>>
UC5 ..> UC6 : <<include>>
UC5 ..> UC8 : <<include>>
UC9 ..> UC3 : <<extend>>
UC12 ..> UC7 : <<include>>
UC14 ..> UC6 : <<include>>

note right of UC5 : "Graphology + LevelDB\n.data/knowledge-graph"
note right of UC6 : "Auto-sync to\n.data/knowledge-export"
note top of UC9 : "Processes files in:\nsrc/knowledge-management\nlib/ukb-unified\nintegrations/mcp-server-semantic-analysis"

@enduml