@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

participant KnowledgePersistencePattern as "Knowledge Persistence Pattern"
participant GraphDatabase as "Graph Database"
participant VkbApiClient as "VKB API Client"
participant GraphKnowledgeExporter as "Graph Knowledge Exporter"
participant PersistenceAgent as "Persistence Agent"
participant GraphDatabaseService as "Graph Database Service"

KnowledgePersistencePattern->>GraphDatabase: Initialize graph database
GraphDatabase->>GraphDatabaseService: Provide graph database services
GraphDatabaseService->>VkbApiClient: Interact with knowledge base
VkbApiClient->>GraphKnowledgeExporter: Export knowledge from graph database
GraphKnowledgeExporter->>GraphDatabase: Export knowledge to JSON

alt Synchronizing data
    GraphDatabaseService->>GraphKnowledgeExporter: Synchronize data with JSON exports
    GraphKnowledgeExporter->>GraphDatabase: Update graph database with synchronized data
end

loop Coding operations
    KnowledgePersistencePattern->>GraphDatabase: Perform coding-related operations
    GraphDatabase->>PersistenceAgent: Persist knowledge in graph database
end

KnowledgePersistencePattern->>VkbApiClient: Visualize knowledge using VKB API client
VkbApiClient->>GraphDatabase: Retrieve knowledge from graph database for visualization

@enduml