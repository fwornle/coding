@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

package "Knowledge Management" {
  component [VkbApiClient] <<api>>
  component [src/knowledge-management] <<core>>
}

package "Unified Knowledge Base" {
  component [lib/ukb-unified] <<core>>
}

package "MCP Integration" {
  component [integrations/mcp-server-semantic-analysis/src] <<agent>>
}

package "Storage Layer" {
  component [Graphology] <<storage>>
  component [LevelDB] <<storage>>
  database ".data/knowledge-graph" <<storage>>
}

package "Export Layer" {
  folder ".data/knowledge-export" <<storage>>
  note right of ".data/knowledge-export" : JSON exports\n(auto-synced from GraphDB)
}

[VkbApiClient] --> [lib/ukb-unified] : API calls
[src/knowledge-management] --> [VkbApiClient] : uses
[integrations/mcp-server-semantic-analysis/src] --> [lib/ukb-unified] : semantic analysis
[lib/ukb-unified] --> [Graphology] : graph operations
[Graphology] --> [LevelDB] : persistence
[LevelDB] --> ".data/knowledge-graph" : stores
".data/knowledge-graph" --> ".data/knowledge-export" : auto-sync

note top of "Knowledge Management" : ApiPattern Implementation\nPattern extracted from codebase analysis\nStored as reusable knowledge entity

note bottom of ".data/knowledge-graph" : Replaces shared-memory.json\n(REMOVED from codebase)

@enduml