@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

participant McpAgentDevelopmentPattern as "MCP Agent"
participant GraphDatabaseService as "Graph Database Service"
participant VkbApiClient as "VKB API Client"
participant GraphDatabaseAdapter as "Graph Database Adapter"

McpAgentDevelopmentPattern->>GraphDatabaseService: Request data
GraphDatabaseService->>GraphDatabaseAdapter: Fetch data
GraphDatabaseAdapter->>GraphDatabaseService: Return data
GraphDatabaseService->>McpAgentDevelopmentPattern: Return data

alt Successful data retrieval
    McpAgentDevelopmentPattern->>VkbApiClient: Send command
    VkbApiClient->>McpAgentDevelopmentPattern: Return response
else Data retrieval failed
    McpAgentDevelopmentPattern->>GraphDatabaseService: Retry request
end

loop Continuous interaction
    McpAgentDevelopmentPattern->>GraphDatabaseService: Request updates
    GraphDatabaseService->>McpAgentDevelopmentPattern: Return updates
end

@enduml