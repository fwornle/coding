@startuml
!include /Users/q284340/Agentic/coding/docs/puml/_standard-style.puml

' Coding Project Use Cases Diagram

left to right direction

actor "Developer" as dev
actor "Knowledge Manager" as km
actor "System Analyst" as sa
actor "MCP Client" as mcp

package "Knowledge Management" {
  usecase "Store Knowledge" as store
  usecase "Query Knowledge Graph" as query
  usecase "Export Knowledge" as export
  usecase "Sync GraphDB" as sync
}

package "Semantic Analysis" {
  usecase "Analyze Code Semantics" as analyze
  usecase "Process MCP Requests" as mcp_process
  usecase "Generate Insights" as insights
}

package "Data Storage" {
  usecase "Persist to LevelDB" as leveldb
  usecase "Maintain Graph Structure" as graph
  usecase "Auto-sync JSON Export" as json_sync
}

package "Integration Services" {
  usecase "Serve MCP Protocol" as mcp_serve
  usecase "Handle Client Requests" as handle_req
}

' Actor relationships
dev --> analyze : initiates
dev --> query : searches
dev --> store : adds knowledge

km --> export : generates reports
km --> sync : maintains consistency
km --> query : explores data

sa --> insights : reviews
sa --> analyze : configures

mcp --> mcp_process : sends requests
mcp --> handle_req : connects

' Use case relationships
analyze ..> store : <<include>>
store ..> leveldb : <<include>>
store ..> graph : <<include>>

export ..> sync : <<include>>
sync ..> json_sync : <<include>>

mcp_process ..> mcp_serve : <<include>>
mcp_serve ..> handle_req : <<include>>

query --> graph : accesses
insights --> analyze : extends

note right of graph : "Uses Graphology + LevelDB\nat .data/knowledge-graph"

note bottom of json_sync : "Auto-synced exports at\n.data/knowledge-export"

note top of mcp_serve : "Located in:\nintegrations/mcp-server-semantic-analysis"

@enduml