# Centralized Port Configuration for Coding Project
# Single source of truth for all service ports

# MCP Servers (stdio-based, no ports needed)
# browser-access-mcp: stdio transport
# claude-logger-mcp: stdio transport

# System Health & Monitoring
MONITORING_PORT=9090

# Knowledge Services
VKB_PORT=8080
MEMORY_VISUALIZER_PORT=8080  # Same as VKB, will use port manager to resolve

# Constraint Monitor Services
CONSTRAINT_DASHBOARD_PORT=3030  # Next.js frontend for constraint monitoring
CONSTRAINT_API_PORT=3031        # Express.js API backend for constraint monitoring

# Health Monitoring for Constraint Monitor Services:
# - Port 3030: Dashboard frontend health check via HTTP GET /
# - Port 3031: API backend health check via HTTP GET /api/health
# - Health monitoring ensures proper inter-service communication
# - Dashboard redirects to frontend, API provides data endpoints
# - Both services must be running for full constraint monitoring functionality

# System Health Dashboard Services
SYSTEM_HEALTH_DASHBOARD_PORT=3032  # Next.js frontend for system health monitoring
SYSTEM_HEALTH_API_PORT=3033        # Express.js API backend for system health monitoring

# System Health Monitoring:
# - Port 3032: System health dashboard frontend (databases, services, processes)
# - Port 3033: System health API (verification reports, auto-healing status)
# - Monitors: LevelDB, Qdrant, VKB, Constraint Monitor, Process Registry
# - Provides: Real-time health status, auto-healing actions, violation history

# CoPilot Integration
COPILOT_PORT=8765

# External Service Ports (for reference)
BROWSERBASE_CDP_PORT=9222  # Chrome DevTools Protocol (external)
KNOWLEDGE_SYNC_PORT=3001   # If needed for future sync services

# Service Configuration
# Agent Types: claude, copilot, both
DEFAULT_AGENT_TYPE=claude

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
SERVICE_STARTUP_TIMEOUT=60000
SERVICE_SHUTDOWN_TIMEOUT=30000

# Port Allocation Strategy
# - prefer_configured: Use configured ports, fail if unavailable
# - find_available: Find next available port if configured is taken
# - kill_existing: Kill existing process if it's one of our services
PORT_ALLOCATION_STRATEGY=kill_existing

# Reserved System Ports (never allocate these)
RESERVED_PORTS=22,25,53,80,110,143,443,993,995,5432,3306